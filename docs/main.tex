\documentclass{article}
\usepackage{graphicx}

\title{Smart Bike}
\author{Benat Ramirez, Merixtell, Vigo, Mark Suvorov, Group 7}
\setlength{\parskip}{1em}
\date{}

\begin{document}

\maketitle
\section{Introduction}

The Smart Bike project will be implemented as an attachable device for the bike, which will expand your biking experience beyond just pedaling.

It will include features for automating routine tasks, such as locking and unlocking your bike every time you need to leave it for five minutes. It will also provide the lights that operate based on the surrounding light level, so when the evening comes they turn on automatically and contribute to your safety. Using both lights and sound, the Smart Bike device will make it easier to locate the bike in the parking area by signaling when the user needs it. Moreover, the heaters on the handles are activated either by the surrounding temperature or the user's request will make biking even more enjoyable.

Besides the features improving the comfort of using the bike, the project includes the mobile app, where the history of the rides will be recorded and displayed in a user-friendly format for informational purposes and to provide feedback to the user.

For the connection of the device to a network and the mobile app the wireless technologies will be used. The data transferred over these networks will be encrypted, ensuring privacy and security.

\noindent
The project implements the following functionalities:

\begin{enumerate}
\item \textbf{Collecting the data from:}
	\begin{itemize}
	\item Light sensor
	\item Temperature sensor
	\item GPS module
	\end{itemize}
\item \textbf{Data Processing:}
	\begin{itemize}
	\item Arranging the data from different sensors into the payloads to send over the network
	\item Local logic for manipulating actuators
	\end{itemize}
\item \textbf{Output Control:}
	\begin{itemize}
	\item Lock with remote control / proximity lock
	\item Automatic lights reacting to the environmental light levels 
	\item Sound and light control as part of the UI, also helping to find the bike in the parking area
	\item Heater elements on the handles of the bike
	\item Info and statistics displayed in the Android App
	\end{itemize}
\item \textbf{Additional functionality:}
	\begin{itemize}
	\item Wireless connectivity 
	\item Mobile app
	\item Security
	\end{itemize}
\end{enumerate}
For further development, the cloud integration can be considered, along with the analysis of anonymized user data for research purposes or to improve biking routes and infrastructure.

Furthermore, the idea of deeper integration of sensors and actuators directly into the bike, as opposed to the attachable version, can also be explored. At the very least, this could allow the inclusion of the sensors measuring the force on the pedals, which would contribute significantly to the usefulness of the statistics provided in the app. It could also include pressure sensors in the tires to track tire pressure and signal when it is too low.  

\section{template part}
\noindent
Further, the project MUST implement AT LEAST TWO of the functionalities below:
\begin{enumerate}
\item \textbf{Wireless Connectivity:}
	\begin{itemize}
	\item Wireless communication with MQTT or HTTP should be implemented. Wi-Fi and Bluetooth can be for wireless connectivity. Pico W has onboard Wi-Fi module available. Bluetooth requires an external module.
	\end{itemize}
\item \textbf{Cloud integration:}
	\begin{itemize}
	\item Integrate with cloud platforms such as Infuxdb, Mangodb, AWS IoT or Google
	\end{itemize}
\item \textbf{Mobile App:}
	\begin{itemize}
	\item Develop Android/iOS applications for real-time data visualization and control, utilizing MQTT broker for sending and receiving data. Simple tools like MIT app inventor can be utilized for that purpose
	\end{itemize}
\item \textbf{Security:}
	\begin{itemize}
	\item Incorporate data encryption
	\end{itemize}
\end{enumerate}

In this section, describe your application, and which of the above functionalities it implements. Provide the overall view of the application area, zooming in the particular application you've implemented.  

\section{Architecture}
Describe here, with illustrations, your applications's sensor layer, networking layer, and data management layer.

\begin{figure}[h!]
	\includegraphics[width=\linewidth]{Slide1.jpg}
	\caption{Architecture diagram}
	\label{fig:architecture}
\end{figure}

In figure \ref{fig:architecture}, we can see the architecture that we will use for our project. In the IoT device,
the data manager allows an easy access to the information stored in the devices' memory. The Sensor/Actuator manager
provides an abstraction that allows us to easily access to the data provided by different sensors or activate different
actuators in an easy way. The network manager will be in charge of handling the connectivity with the mobile app. The business
layer takes decisions based on the data from different sources.
\\
\\
In the mobile app we have the classical three layer architecture for clients: The presentation layer renders the UI for the user, the 
business layer handles any logic required for the client, and the service proxy connects to the IoT device.

\section{Methods \& Tools}
The development of the Smart Bike system will be based on a modular architecture combining embedded programming on the Raspberry Pi Pico W, wireless communication, and a mobile application. The project will follow an object-oriented programming (OOP) approach, where each hardware and software component will be encapsulated into dedicated classes (e.g., GPSSensor, LightSensor, ActuatorController, MQTTClient, AppInterface). 

\subsection{Embedded Programming \& Libraries}

The Raspberry Pi Pico W will run MicroPython and will be responsible for reading sensor data, processing it locally, and controlling the output actuators. To support these functionalities, several libraries will be used:

\begin{itemize}
    \item \textbf{MicropyGPS:} This library will be used to read and parse GPS data from an external GPS module. It will allow the system to obtain coordinates, speed, and direction information in a structured format.
    \item \textbf{machine \& utime (MicroPython core libraries):} These libraries will allow interaction with GPIO pins, ADC-based sensors (light, temperature), and will provide timing utilities needed for periodic data collection and event scheduling.
    \item \textbf{umqtt.simple:} This lightweight MQTT library will be used to publish sensor data and receive commands from the mobile app. It will form the backbone of the wireless communication layer.
\end{itemize}

\subsection{Networking \& Wireless Tools}

The Smart Bike would likely rely on the Raspberry Pi Pico Wâ€™s onboard Wi-Fi module to enable wireless connectivity. The Pico W will connect to a Wi-Fi network on startup and will establish a connection to an MQTT broker. MQTT will be chosen as the main communication protocol because of its low overhead and suitability for IoT systems that exchange small and frequent messages.

Tools such as \textbf{MQTT Explorer} is what we plan to use during the development to verify message flow, debug communication issues, and support evaluation of throughput and latency.

\subsection{Mobile Application Development Tools}

We thought of developing the mobile application using \textbf{Android Studio}, as it provides flexibility, strong UI tools, and compatibility with MQTT communication frameworks. The application will be responsible for visualizing data such as speed, GPS location, temperature, and bike status, while also sending commands (e.g., lock, lights on/off) to the Pico W.

For MQTT communication on the mobile side, the project will use:

\begin{itemize}
    \item \textbf{Paho MQTT Android Client:} This library  will allow the Android app to subscribe to live sensor topics and publish control messages to the Smart Bike device.
\end{itemize}


\section{Evaluation}
Provide here a detailed description of how you evaluated the application. Evaluate your implementation using selected criteria, for example:
\begin{itemize}
\item System throughput (e.g. number of messages).
\item System latency (e.g., network and request processing latency.
\end{itemize}
Design two evaluation scenarios that you compare with each other, for example:
\begin{itemize}
\item Small number / large number of messages
\item Small payload / big payload
\end{itemize}

To be able to ensure that the products performance is the expected, we will carry on different evaluation that will measure different
attributes of the product.
\\
\\
\textbf{Throughput:} The throughput of our product is not that critical, because just a couple of devices will be connected and sending messages to the device
at any point, it is not expected to receive a high volume of messages. But our product will have a minimum throughput of 10 messages per second, ensuring that
the user never has to wait for any message to be processed.
\\
\\
\textbf{Latency:} To have an adequate user experience, all the actions requested from the mobile app to the device should be answered and carried
out in less than 0.5 seconds.
\\
\\
\textbf{Usability:} Our product should be usable by any potential user with ease. Both the device and the mobile app should have an easy installation, setup and 
operation. To ensure that, the device must be able to be installed in the bike in less than 5 minutes by an unexperienced user, and the users should not take more
than 2 minutes to perform any task on the mobile app without previous knowledge.
\\
\\
To ensure that this criterion is met, we will carry out two evaluation scenarios:
\begin{itemize}
	\item A latency test, where we will send an instruction to the device and measure the time it takes to give a response.
	\item A usability test, where a user who has never used the app will be requested to perform a task and we will measure the time it takes.
\end{itemize}





\section{Results}

Collect numerical data of test cases:
\begin{itemize}
\item Collecting logs of container operations
\item Conduct simple analysis for documentation purposes (e.g. plots or graphs)
\end{itemize}


\section{Discussion}
Discuss the results of the evaluation. What weaknesses does your application have? In what scenarions does it work well? Return back to the application area you described in Introduction -- put the results in context.


\end{document}
